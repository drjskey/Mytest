<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.2.1 (Python 3.8.3 on win32)" generated="20200915 17:01:37.897" rpa="false">
<suite id="s1" name="Tc" source="E:\PythonScript\YJYX项目\tc">
<suite id="s1-s1" name="Api空白数据" source="E:\PythonScript\YJYX项目\tc\api空白数据">
<kw name="Run Keywords" library="BuiltIn" type="setup">
<doc>Executes all the given keywords in a sequence.</doc>
<arguments>
<arg>del_all_teachers</arg>
<arg>AND</arg>
<arg>del_all_student</arg>
<arg>AND</arg>
<arg>del_all_school_classes</arg>
</arguments>
<kw name="Del All Teachers" library="pyLib.schoolTeacherLib.SchoolTeacherLib">
<msg timestamp="20200915 17:01:39.213" level="INFO">列出老师返回结果：{'retlist': [], 'retcode': 0}
列出老师返回结果：{'retlist': [], 'retcode': 0}
删除所有老师完成-----------------------</msg>
<status status="PASS" starttime="20200915 17:01:37.980" endtime="20200915 17:01:39.213"></status>
</kw>
<kw name="Del All Student" library="pyLib.schoolStudentLib.SchoolStudentLib">
<doc>删除所有学生</doc>
<msg timestamp="20200915 17:01:39.409" level="INFO">列出学生结果为：{'retlist': [], 'retcode': 0}
所有学生删除完成----------------</msg>
<status status="PASS" starttime="20200915 17:01:39.214" endtime="20200915 17:01:39.410"></status>
</kw>
<kw name="Del All School Classes" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>删除所有的班级
:return:</doc>
<msg timestamp="20200915 17:01:39.650" level="INFO">"列出班级返回结果：{'gradeid': None, 'retlist': [], 'retcode': 0}"
[]
"列出班级返回结果：{'gradeid': None, 'retlist': [], 'retcode': 0}"
删除所有班级成功----------------</msg>
<status status="PASS" starttime="20200915 17:01:39.410" endtime="20200915 17:01:39.650"></status>
</kw>
<status status="PASS" starttime="20200915 17:01:37.980" endtime="20200915 17:01:39.650"></status>
</kw>
<suite id="s1-s1-s1" name="D-七年级1班" source="E:\PythonScript\YJYX项目\tc\api空白数据\d-七年级1班">
<kw name="Add School Class" library="pyLib.schoolClassLib.SchoolClassLib" type="setup">
<doc>添加班级
:param grade: 班级编号（七年级1，八年级2，九年级3，高一4，高二5，高三6）
:param name: 班级名称
:param studentlimit: 班级最多人数
:param idSavedName:传入需要保存id的变量名
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
<arg>1班</arg>
<arg>60</arg>
<arg>suite_g7c1_classid</arg>
</arguments>
<msg timestamp="20200915 17:01:39.770" level="INFO">${suite_g7c1_classid} = 476837</msg>
<msg timestamp="20200915 17:01:39.770" level="INFO">"新增班级返回结果：{'invitecode': '4768372919540', 'retcode': 0, 'id': 476837}"</msg>
<status status="PASS" starttime="20200915 17:01:39.656" endtime="20200915 17:01:39.770"></status>
</kw>
<suite id="s1-s1-s1-s1" name="班级管理" source="E:\PythonScript\YJYX项目\tc\api空白数据\d-七年级1班\班级管理.robot">
<test id="s1-s1-s1-s1-t1" name="添加班级2 - tc000002">
<kw name="Add School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>添加班级
:param grade: 班级编号（七年级1，八年级2，九年级3，高一4，高二5，高三6）
:param name: 班级名称
:param studentlimit: 班级最多人数
:param idSavedName:传入需要保存id的变量名
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
<arg>2班</arg>
<arg>60</arg>
</arguments>
<assign>
<var>${addRes}</var>
</assign>
<msg timestamp="20200915 17:01:39.903" level="INFO">"新增班级返回结果：{'invitecode': '4768381048725', 'retcode': 0, 'id': 476838}"</msg>
<msg timestamp="20200915 17:01:39.904" level="INFO">${addRes} = {'invitecode': '4768381048725', 'retcode': 0, 'id': 476838}</msg>
<status status="PASS" starttime="20200915 17:01:39.779" endtime="20200915 17:01:39.904"></status>
</kw>
<kw name="Log To Console" library="BuiltIn">
<doc>Logs the given message to the console.</doc>
<arguments>
<arg>添加班级：${addRes}</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:39.905" endtime="20200915 17:01:39.907"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$addRes['retcode']==0</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:39.908" endtime="20200915 17:01:39.910"></status>
</kw>
<kw name="List School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>列出班级
:param gradeid: 班级编号
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
</arguments>
<assign>
<var>${listRes}</var>
</assign>
<msg timestamp="20200915 17:01:40.019" level="INFO">("列出班级返回结果：{'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', "
 "'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476837, 'teacherlist': []}, {'name': '2班', 'grade__name': '七年级', "
 "'invitecode': '4768381048725', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476838, 'teacherlist': []}], 'retcode': 0}")</msg>
<msg timestamp="20200915 17:01:40.019" level="INFO">${listRes} = {'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, {'name': '2班', 'grade__name': '...</msg>
<status status="PASS" starttime="20200915 17:01:39.911" endtime="20200915 17:01:40.019"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>$listRes['retlist']</arg>
</arguments>
<assign>
<var>${retlist}</var>
</assign>
<msg timestamp="20200915 17:01:40.021" level="INFO">${retlist} = [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, {'name': '2班', 'grade__name': '七年级', 'invitecode': '47683...</msg>
<status status="PASS" starttime="20200915 17:01:40.021" endtime="20200915 17:01:40.021"></status>
</kw>
<kw name="Log To Console" library="BuiltIn">
<doc>Logs the given message to the console.</doc>
<arguments>
<arg>列出班级：${retlist}</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:40.022" endtime="20200915 17:01:40.023"></status>
</kw>
<kw name="Classlist Should Contain" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>判断一个班级(字典)是否在列出班级的列表里,新增修改班级的用例都可以用
:param classlist: 给出的列表
:param classname: 班级名称
:param gradename: 年级
:param invitecode: 班级邀请码（新增时后台自动生成的）
:param studentlimit: 班级最多人数
:param studentnumber: 班级当前人数
:param id: 班级id号（添加时生成的）
:return:</doc>
<arguments>
<arg>${retlist}</arg>
<arg>2班</arg>
<arg>七年级</arg>
<arg>${addRes}[invitecode]</arg>
<arg>60</arg>
<arg>0</arg>
<arg>${addRes}[id]</arg>
</arguments>
<msg timestamp="20200915 17:01:40.024" level="INFO">("列出班级：[{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', "
 "'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, "
 "{'name': '2班', 'grade__name': '七年级', 'invitecode': '4768381048725', "
 "'studentlimit': 60, 'studentnumber': 0, 'id': 476838, 'teacherlist': []}]")
'======================================'
("预期存在次数的班级：{'name': '2班', 'grade__name': '七年级', 'invitecode': "
 "'4768381048725', 'studentlimit': 60, 'studentnumber': 0, 'id': 476838, "
 "'teacherlist': []}")</msg>
<status status="PASS" starttime="20200915 17:01:40.024" endtime="20200915 17:01:40.024"></status>
</kw>
<kw name="Del School Class" library="pyLib.schoolClassLib.SchoolClassLib" type="teardown">
<doc>删除班级
:param classid: 班级编号
:return:</doc>
<arguments>
<arg>${addRes}[id]</arg>
</arguments>
<msg timestamp="20200915 17:01:40.170" level="INFO">http://ci.ytesting.com/api/3school/school_classes/476838
"删除班级返回结果：{'retcode': 0}"</msg>
<status status="PASS" starttime="20200915 17:01:40.025" endtime="20200915 17:01:40.171"></status>
</kw>
<doc>添加一个班级（年级相同，但班级名不同）</doc>
<status status="PASS" starttime="20200915 17:01:39.777" endtime="20200915 17:01:40.173" critical="yes"></status>
</test>
<test id="s1-s1-s1-s1-t2" name="添加班级3 - tc000003">
<kw name="List School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>列出班级
:param gradeid: 班级编号
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
</arguments>
<assign>
<var>${listBefore}</var>
</assign>
<msg timestamp="20200915 17:01:40.278" level="INFO">("列出班级返回结果：{'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', "
 "'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476837, 'teacherlist': []}], 'retcode': 0}")</msg>
<msg timestamp="20200915 17:01:40.278" level="INFO">${listBefore} = {'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}], 'retcode': 0}</msg>
<status status="PASS" starttime="20200915 17:01:40.178" endtime="20200915 17:01:40.278"></status>
</kw>
<kw name="Add School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>添加班级
:param grade: 班级编号（七年级1，八年级2，九年级3，高一4，高二5，高三6）
:param name: 班级名称
:param studentlimit: 班级最多人数
:param idSavedName:传入需要保存id的变量名
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
<arg>1班</arg>
<arg>60</arg>
</arguments>
<assign>
<var>${addRes}</var>
</assign>
<msg timestamp="20200915 17:01:40.382" level="INFO">("新增班级返回结果：{'reason': 'Traceback (most recent call last):\\n  File "
 '"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py", '
 'line 542, in addClass\\n    school_class = '
 'self._addClass(name,schoolid,gradeid,studentlimit)\\n  File '
 '"/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py", '
 'line 531, in _addClass\\n    school_class.save()\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line 710, '
 'in save\\n    force_update=force_update, update_fields=update_fields)\\n  '
 'File "/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line '
 '738, in save_base\\n    updated = self._save_table(raw, cls, force_insert, '
 'force_update, using, update_fields)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line 822, '
 'in _save_table\\n    result = self._do_insert(cls._base_manager, using, '
 'fields, update_pk, raw)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line 861, '
 'in _do_insert\\n    using=using, raw=raw)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/models/manager.py", line '
 '127, in manager_method\\n    return getattr(self.get_queryset(), '
 'name)(*args, **kwargs)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/models/query.py", line '
 '920, in _insert\\n    return '
 'query.get_compiler(using=using).execute_sql(return_id)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", '
 'line 974, in execute_sql\\n    cursor.execute(sql, params)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py", line '
 '64, in execute\\n    return self.cursor.execute(sql, params)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/utils.py", line 97, in '
 '__exit__\\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py", line '
 '64, in execute\\n    return self.cursor.execute(sql, params)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py", '
 'line 124, in execute\\n    return self.cursor.execute(query, args)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/MySQLdb/cursors.py", line 205, in '
 'execute\\n    self.errorhandler(self, exc, value)\\n  File '
 '"/usr/local/lib/python2.7/site-packages/MySQLdb/connections.py", line 36, in '
 'defaulterrorhandler\\n    raise errorclass, errorvalue\\nIntegrityError: '
 '(1062, "Duplicate entry \\\'1\\\\xe7\\\\x8f\\\\xad-1089-1\\\' for key '
 '\\\'name\\\'")\\n\', \'retcode\': 1}')</msg>
<msg timestamp="20200915 17:01:40.382" level="INFO">${addRes} = {'reason': 'Traceback (most recent call last):\n  File "/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py", line 542, in addClass\n    school_class = self._addClass(name,schoo...</msg>
<status status="PASS" starttime="20200915 17:01:40.279" endtime="20200915 17:01:40.382"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$addRes['retcode']==1</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:40.383" endtime="20200915 17:01:40.383"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$addRes['reason']=="duplicated class name"</arg>
</arguments>
<msg timestamp="20200915 17:01:40.384" level="FAIL">'$addRes['reason']=="duplicated class name"' should be true.</msg>
<status status="FAIL" starttime="20200915 17:01:40.384" endtime="20200915 17:01:40.384"></status>
</kw>
<doc>添加一个班级(班级号和班级名称都已经存在)，此用例，系统存在bug，返回的reason错误</doc>
<status status="FAIL" starttime="20200915 17:01:40.177" endtime="20200915 17:01:40.385" critical="yes">'$addRes['reason']=="duplicated class name"' should be true.</status>
</test>
<test id="s1-s1-s1-s1-t3" name="修改班级1 - tc000051">
<kw name="Add School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>添加班级
:param grade: 班级编号（七年级1，八年级2，九年级3，高一4，高二5，高三6）
:param name: 班级名称
:param studentlimit: 班级最多人数
:param idSavedName:传入需要保存id的变量名
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
<arg>2班</arg>
<arg>60</arg>
</arguments>
<assign>
<var>${addRes}</var>
</assign>
<msg timestamp="20200915 17:01:40.491" level="INFO">"新增班级返回结果：{'invitecode': '4768407959347', 'retcode': 0, 'id': 476840}"</msg>
<msg timestamp="20200915 17:01:40.491" level="INFO">${addRes} = {'invitecode': '4768407959347', 'retcode': 0, 'id': 476840}</msg>
<status status="PASS" starttime="20200915 17:01:40.390" endtime="20200915 17:01:40.491"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$addRes['retcode']==0</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:40.492" endtime="20200915 17:01:40.493"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>$addRes['id']</arg>
</arguments>
<assign>
<var>${classid}</var>
</assign>
<msg timestamp="20200915 17:01:40.495" level="INFO">${classid} = 476840</msg>
<status status="PASS" starttime="20200915 17:01:40.494" endtime="20200915 17:01:40.495"></status>
</kw>
<kw name="Update School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<arguments>
<arg>${classid}</arg>
<arg>3班</arg>
<arg>30</arg>
</arguments>
<assign>
<var>${updclass}</var>
</assign>
<msg timestamp="20200915 17:01:40.607" level="INFO">修改班级返回结果：{'retcode': 0}</msg>
<msg timestamp="20200915 17:01:40.608" level="INFO">${updclass} = {'retcode': 0}</msg>
<status status="PASS" starttime="20200915 17:01:40.496" endtime="20200915 17:01:40.608"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$updclass['retcode']==0</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:40.609" endtime="20200915 17:01:40.610"></status>
</kw>
<kw name="List School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>列出班级
:param gradeid: 班级编号
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
</arguments>
<assign>
<var>${retlist}</var>
</assign>
<msg timestamp="20200915 17:01:40.718" level="INFO">("列出班级返回结果：{'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', "
 "'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476837, 'teacherlist': []}, {'name': '3班', 'grade__name': '七年级', "
 "'invitecode': '4768407959347', 'studentlimit': 30, 'studentnumber': 0, 'id': "
 "476840, 'teacherlist': []}], 'retcode': 0}")</msg>
<msg timestamp="20200915 17:01:40.718" level="INFO">${retlist} = {'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, {'name': '3班', 'grade__name': '...</msg>
<status status="PASS" starttime="20200915 17:01:40.612" endtime="20200915 17:01:40.719"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>$retlist['retlist']</arg>
</arguments>
<assign>
<var>${modlist}</var>
</assign>
<msg timestamp="20200915 17:01:40.721" level="INFO">${modlist} = [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, {'name': '3班', 'grade__name': '七年级', 'invitecode': '47684...</msg>
<status status="PASS" starttime="20200915 17:01:40.720" endtime="20200915 17:01:40.721"></status>
</kw>
<kw name="Classlist Should Contain" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>判断一个班级(字典)是否在列出班级的列表里,新增修改班级的用例都可以用
:param classlist: 给出的列表
:param classname: 班级名称
:param gradename: 年级
:param invitecode: 班级邀请码（新增时后台自动生成的）
:param studentlimit: 班级最多人数
:param studentnumber: 班级当前人数
:param id: 班级id号（添加时生成的）
:return:</doc>
<arguments>
<arg>${modlist}</arg>
<arg>3班</arg>
<arg>七年级</arg>
<arg>${addRes}[invitecode]</arg>
<arg>30</arg>
<arg>0</arg>
<arg>${classid}</arg>
</arguments>
<msg timestamp="20200915 17:01:40.723" level="INFO">("列出班级：[{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', "
 "'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, "
 "{'name': '3班', 'grade__name': '七年级', 'invitecode': '4768407959347', "
 "'studentlimit': 30, 'studentnumber': 0, 'id': 476840, 'teacherlist': []}]")
'======================================'
("预期存在次数的班级：{'name': '3班', 'grade__name': '七年级', 'invitecode': "
 "'4768407959347', 'studentlimit': 30, 'studentnumber': 0, 'id': 476840, "
 "'teacherlist': []}")</msg>
<status status="PASS" starttime="20200915 17:01:40.722" endtime="20200915 17:01:40.723"></status>
</kw>
<kw name="Del School Class" library="pyLib.schoolClassLib.SchoolClassLib" type="teardown">
<doc>删除班级
:param classid: 班级编号
:return:</doc>
<arguments>
<arg>${classid}</arg>
</arguments>
<msg timestamp="20200915 17:01:40.831" level="INFO">http://ci.ytesting.com/api/3school/school_classes/476840
"删除班级返回结果：{'retcode': 0}"</msg>
<status status="PASS" starttime="20200915 17:01:40.724" endtime="20200915 17:01:40.832"></status>
</kw>
<doc>修改班级名称(新名称改年级不存在)</doc>
<status status="PASS" starttime="20200915 17:01:40.388" endtime="20200915 17:01:40.833" critical="yes"></status>
</test>
<test id="s1-s1-s1-s1-t4" name="修改班级2 - tc000052">
<kw name="Add School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>添加班级
:param grade: 班级编号（七年级1，八年级2，九年级3，高一4，高二5，高三6）
:param name: 班级名称
:param studentlimit: 班级最多人数
:param idSavedName:传入需要保存id的变量名
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
<arg>2班</arg>
<arg>60</arg>
</arguments>
<assign>
<var>${addRes}</var>
</assign>
<msg timestamp="20200915 17:01:40.987" level="INFO">"新增班级返回结果：{'invitecode': '4768410998022', 'retcode': 0, 'id': 476841}"</msg>
<msg timestamp="20200915 17:01:40.987" level="INFO">${addRes} = {'invitecode': '4768410998022', 'retcode': 0, 'id': 476841}</msg>
<status status="PASS" starttime="20200915 17:01:40.840" endtime="20200915 17:01:40.987"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$addRes['retcode']==0</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:40.988" endtime="20200915 17:01:40.988"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>$addRes['id']</arg>
</arguments>
<assign>
<var>${classid}</var>
</assign>
<msg timestamp="20200915 17:01:40.989" level="INFO">${classid} = 476841</msg>
<status status="PASS" starttime="20200915 17:01:40.989" endtime="20200915 17:01:40.989"></status>
</kw>
<kw name="List School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>列出班级
:param gradeid: 班级编号
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
</arguments>
<assign>
<var>${listbefore}</var>
</assign>
<msg timestamp="20200915 17:01:41.101" level="INFO">("列出班级返回结果：{'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', "
 "'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476837, 'teacherlist': []}, {'name': '2班', 'grade__name': '七年级', "
 "'invitecode': '4768410998022', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476841, 'teacherlist': []}], 'retcode': 0}")</msg>
<msg timestamp="20200915 17:01:41.102" level="INFO">${listbefore} = {'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, {'name': '2班', 'grade__name': '...</msg>
<status status="PASS" starttime="20200915 17:01:40.990" endtime="20200915 17:01:41.102"></status>
</kw>
<kw name="Update School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<arguments>
<arg>${classid}</arg>
<arg>1班</arg>
<arg>30</arg>
</arguments>
<assign>
<var>${updclass}</var>
</assign>
<msg timestamp="20200915 17:01:41.206" level="INFO">修改班级返回结果：{'reason': '未知错误:Traceback (most recent call last):\n  File "/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py", line 612, in modifyClass\n    school_class.save()\n  File "/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line 710, in save\n    force_update=force_update, update_fields=update_fields)\n  File "/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line 738, in save_base\n    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\n  File "/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line 803, in _save_table\n    forced_update)\n  File "/usr/local/lib/python2.7/site-packages/django/db/models/base.py", line 853, in _do_update\n    return filtered._update(values) &gt; 0\n  File "/usr/local/lib/python2.7/site-packages/django/db/models/query.py", line 580, in _update\n    return query.get_compiler(self.db).execute_sql(CURSOR)\n  File "/usr/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1062, in execute_sql\n    cursor = super(SQLUpdateCompiler, self).execute_sql(result_type)\n  File "/usr/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 840, in execute_sql\n    cursor.execute(sql, params)\n  File "/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File "/usr/local/lib/python2.7/site-packages/django/db/utils.py", line 97, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File "/usr/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File "/usr/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py", line 124, in execute\n    return self.cursor.execute(query, args)\n  File "/usr/local/lib/python2.7/site-packages/MySQLdb/cursors.py", line 205, in execute\n    self.errorhandler(self, exc, value)\n  File "/usr/local/lib/python2.7/site-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler\n    raise errorclass, errorvalue\nIntegrityError: (1062, "Duplicate entry \'1\\xe7\\x8f\\xad-1089-1\' for key \'name\'")\n', 'retcode': 10000}</msg>
<msg timestamp="20200915 17:01:41.207" level="INFO">${updclass} = {'reason': '未知错误:Traceback (most recent call last):\n  File "/home/yjyx/yijiao_src/yijiao_main/services/datamodel/schoolclass/models.py", line 612, in modifyClass\n    school_class.save()\n  File "/us...</msg>
<status status="PASS" starttime="20200915 17:01:41.103" endtime="20200915 17:01:41.207"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$updclass['retcode']==1</arg>
</arguments>
<msg timestamp="20200915 17:01:41.209" level="FAIL">'$updclass['retcode']==1' should be true.</msg>
<status status="FAIL" starttime="20200915 17:01:41.208" endtime="20200915 17:01:41.209"></status>
</kw>
<kw name="Del School Class" library="pyLib.schoolClassLib.SchoolClassLib" type="teardown">
<doc>删除班级
:param classid: 班级编号
:return:</doc>
<arguments>
<arg>${classid}</arg>
</arguments>
<msg timestamp="20200915 17:01:41.322" level="INFO">http://ci.ytesting.com/api/3school/school_classes/476841
"删除班级返回结果：{'retcode': 0}"</msg>
<status status="PASS" starttime="20200915 17:01:41.211" endtime="20200915 17:01:41.322"></status>
</kw>
<doc>修改班级名为该年级已经存在的班级名，此用例系统存在bug</doc>
<status status="FAIL" starttime="20200915 17:01:40.839" endtime="20200915 17:01:41.323" critical="yes">'$updclass['retcode']==1' should be true.</status>
</test>
<test id="s1-s1-s1-s1-t5" name="修改班级3 - tc000053">
<kw name="Update School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<arguments>
<arg>999999</arg>
<arg>1班</arg>
<arg>60</arg>
</arguments>
<assign>
<var>${updclass}</var>
</assign>
<msg timestamp="20200915 17:01:41.442" level="INFO">修改班级返回结果：{'reason': 'id 为`999999`的班级不存在', 'retcode': 404}</msg>
<msg timestamp="20200915 17:01:41.442" level="INFO">${updclass} = {'reason': 'id 为`999999`的班级不存在', 'retcode': 404}</msg>
<status status="PASS" starttime="20200915 17:01:41.330" endtime="20200915 17:01:41.442"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$updclass['retcode']==404</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:41.444" endtime="20200915 17:01:41.445"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$updclass['reason']=="id 为`999999`的班级不存在"</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:41.446" endtime="20200915 17:01:41.446"></status>
</kw>
<doc>修改班级id为不存在的</doc>
<status status="PASS" starttime="20200915 17:01:41.328" endtime="20200915 17:01:41.447" critical="yes"></status>
</test>
<test id="s1-s1-s1-s1-t6" name="删除班级1 - tc000081">
<kw name="Del School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>删除班级
:param classid: 班级编号
:return:</doc>
<arguments>
<arg>999999</arg>
</arguments>
<assign>
<var>${defRes}</var>
</assign>
<msg timestamp="20200915 17:01:41.567" level="INFO">http://ci.ytesting.com/api/3school/school_classes/999999
"删除班级返回结果：{'reason': 'id 为`999999`的班级不存在', 'retcode': 404}"</msg>
<msg timestamp="20200915 17:01:41.568" level="INFO">${defRes} = {'reason': 'id 为`999999`的班级不存在', 'retcode': 404}</msg>
<status status="PASS" starttime="20200915 17:01:41.452" endtime="20200915 17:01:41.568"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$defRes['retcode']==404</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:41.569" endtime="20200915 17:01:41.570"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$defRes['reason']=='id 为`999999`的班级不存在'</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:41.571" endtime="20200915 17:01:41.572"></status>
</kw>
<doc>用不存在的id号请求删除班级</doc>
<status status="PASS" starttime="20200915 17:01:41.450" endtime="20200915 17:01:41.573" critical="yes"></status>
</test>
<test id="s1-s1-s1-s1-t7" name="删除班级2 - tc000082">
<kw name="Add School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>添加班级
:param grade: 班级编号（七年级1，八年级2，九年级3，高一4，高二5，高三6）
:param name: 班级名称
:param studentlimit: 班级最多人数
:param idSavedName:传入需要保存id的变量名
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
<arg>2班</arg>
<arg>60</arg>
</arguments>
<assign>
<var>${addRes}</var>
</assign>
<msg timestamp="20200915 17:01:41.685" level="INFO">"新增班级返回结果：{'invitecode': '4768423460760', 'retcode': 0, 'id': 476842}"</msg>
<msg timestamp="20200915 17:01:41.685" level="INFO">${addRes} = {'invitecode': '4768423460760', 'retcode': 0, 'id': 476842}</msg>
<status status="PASS" starttime="20200915 17:01:41.579" endtime="20200915 17:01:41.685"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$addRes['retcode']==0</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:41.686" endtime="20200915 17:01:41.686"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the result.</doc>
<arguments>
<arg>$addRes['id']</arg>
</arguments>
<assign>
<var>${classid}</var>
</assign>
<msg timestamp="20200915 17:01:41.687" level="INFO">${classid} = 476842</msg>
<status status="PASS" starttime="20200915 17:01:41.687" endtime="20200915 17:01:41.687"></status>
</kw>
<kw name="List School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>列出班级
:param gradeid: 班级编号
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
</arguments>
<assign>
<var>${listBefore}</var>
</assign>
<msg timestamp="20200915 17:01:41.913" level="INFO">("列出班级返回结果：{'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', "
 "'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476837, 'teacherlist': []}, {'name': '2班', 'grade__name': '七年级', "
 "'invitecode': '4768423460760', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476842, 'teacherlist': []}], 'retcode': 0}")</msg>
<msg timestamp="20200915 17:01:41.914" level="INFO">${listBefore} = {'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, {'name': '2班', 'grade__name': '...</msg>
<status status="PASS" starttime="20200915 17:01:41.688" endtime="20200915 17:01:41.914"></status>
</kw>
<kw name="Classlist Should Contain" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>判断一个班级(字典)是否在列出班级的列表里,新增修改班级的用例都可以用
:param classlist: 给出的列表
:param classname: 班级名称
:param gradename: 年级
:param invitecode: 班级邀请码（新增时后台自动生成的）
:param studentlimit: 班级最多人数
:param studentnumber: 班级当前人数
:param id: 班级id号（添加时生成的）
:return:</doc>
<arguments>
<arg>${listBefore}[retlist]</arg>
<arg>2班</arg>
<arg>七年级</arg>
<arg>${addRes}[invitecode]</arg>
<arg>60</arg>
<arg>0</arg>
<arg>${classid}</arg>
</arguments>
<msg timestamp="20200915 17:01:41.916" level="INFO">("列出班级：[{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', "
 "'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}, "
 "{'name': '2班', 'grade__name': '七年级', 'invitecode': '4768423460760', "
 "'studentlimit': 60, 'studentnumber': 0, 'id': 476842, 'teacherlist': []}]")
'======================================'
("预期存在次数的班级：{'name': '2班', 'grade__name': '七年级', 'invitecode': "
 "'4768423460760', 'studentlimit': 60, 'studentnumber': 0, 'id': 476842, "
 "'teacherlist': []}")</msg>
<status status="PASS" starttime="20200915 17:01:41.915" endtime="20200915 17:01:41.916"></status>
</kw>
<kw name="Del School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>删除班级
:param classid: 班级编号
:return:</doc>
<arguments>
<arg>${classid}</arg>
</arguments>
<assign>
<var>${delRes}</var>
</assign>
<msg timestamp="20200915 17:01:42.031" level="INFO">http://ci.ytesting.com/api/3school/school_classes/476842
"删除班级返回结果：{'retcode': 0}"</msg>
<msg timestamp="20200915 17:01:42.031" level="INFO">${delRes} = {'retcode': 0}</msg>
<status status="PASS" starttime="20200915 17:01:41.917" endtime="20200915 17:01:42.031"></status>
</kw>
<kw name="Should Be True" library="BuiltIn">
<doc>Fails if the given condition is not true.</doc>
<arguments>
<arg>$delRes['retcode']==0</arg>
</arguments>
<status status="PASS" starttime="20200915 17:01:42.033" endtime="20200915 17:01:42.034"></status>
</kw>
<kw name="List School Class" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>列出班级
:param gradeid: 班级编号
:return:</doc>
<arguments>
<arg>${g_grade_7_id}</arg>
</arguments>
<assign>
<var>${listAfter}</var>
</assign>
<msg timestamp="20200915 17:01:42.139" level="INFO">("列出班级返回结果：{'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', "
 "'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': "
 "476837, 'teacherlist': []}], 'retcode': 0}")</msg>
<msg timestamp="20200915 17:01:42.139" level="INFO">${listAfter} = {'gradeid': 1, 'retlist': [{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', 'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}], 'retcode': 0}</msg>
<status status="PASS" starttime="20200915 17:01:42.035" endtime="20200915 17:01:42.139"></status>
</kw>
<kw name="Classlist Should Contain" library="pyLib.schoolClassLib.SchoolClassLib">
<doc>判断一个班级(字典)是否在列出班级的列表里,新增修改班级的用例都可以用
:param classlist: 给出的列表
:param classname: 班级名称
:param gradename: 年级
:param invitecode: 班级邀请码（新增时后台自动生成的）
:param studentlimit: 班级最多人数
:param studentnumber: 班级当前人数
:param id: 班级id号（添加时生成的）
:return:</doc>
<arguments>
<arg>${listAfter}[retlist]</arg>
<arg>2班</arg>
<arg>七年级</arg>
<arg>${addRes}[invitecode]</arg>
<arg>60</arg>
<arg>0</arg>
<arg>${classid}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20200915 17:01:42.142" level="INFO">("列出班级：[{'name': '1班', 'grade__name': '七年级', 'invitecode': '4768372919540', "
 "'studentlimit': 60, 'studentnumber': 0, 'id': 476837, 'teacherlist': []}]")
'======================================'
("预期存在次数的班级：{'name': '2班', 'grade__name': '七年级', 'invitecode': "
 "'4768423460760', 'studentlimit': 60, 'studentnumber': 0, 'id': 476842, "
 "'teacherlist': []}")</msg>
<status status="PASS" starttime="20200915 17:01:42.141" endtime="20200915 17:01:42.142"></status>
</kw>
<doc>正常删除班级</doc>
<status status="PASS" starttime="20200915 17:01:41.576" endtime="20200915 17:01:42.143" critical="yes"></status>
</test>
<status status="FAIL" starttime="20200915 17:01:39.770" endtime="20200915 17:01:42.147"></status>
</suite>
<kw name="Del School Class" library="pyLib.schoolClassLib.SchoolClassLib" type="teardown">
<doc>删除班级
:param classid: 班级编号
:return:</doc>
<arguments>
<arg>${suite_g7c1_classid}</arg>
</arguments>
<msg timestamp="20200915 17:01:42.267" level="INFO">http://ci.ytesting.com/api/3school/school_classes/476837
"删除班级返回结果：{'retcode': 0}"</msg>
<status status="PASS" starttime="20200915 17:01:42.154" endtime="20200915 17:01:42.268"></status>
</kw>
<status status="FAIL" starttime="20200915 17:01:39.650" endtime="20200915 17:01:42.268"></status>
</suite>
<status status="FAIL" starttime="20200915 17:01:37.915" endtime="20200915 17:01:42.275"></status>
</suite>
<status status="FAIL" starttime="20200915 17:01:37.899" endtime="20200915 17:01:42.279"></status>
</suite>
<statistics>
<total>
<stat pass="5" fail="2">Critical Tests</stat>
<stat pass="5" fail="2">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="5" fail="2" id="s1" name="Tc">Tc</stat>
<stat pass="5" fail="2" id="s1-s1" name="Api空白数据">Tc.Api空白数据</stat>
<stat pass="5" fail="2" id="s1-s1-s1" name="D-七年级1班">Tc.Api空白数据.D-七年级1班</stat>
<stat pass="5" fail="2" id="s1-s1-s1-s1" name="班级管理">Tc.Api空白数据.D-七年级1班.班级管理</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
